<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[[${name}]] Modulation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>
        function resize() {
          const dimWidth= Math.floor($(window).width() - 10)
          const dimHeight= Math.floor($(window).height() / 2)
          const textDimWidth= Math.floor($(window).width() - 10) * 0.22

          $("#wave1").css("width", dimWidth);
          $("#wave2").css("width", dimWidth);
          $("#modulation").css("width", dimWidth);

          $("#wave1Zoom").css("width", dimWidth);
          $("#wave1Ampl").css("width", textDimWidth);
          $("#wave1AngOff").css("width", textDimWidth);
          $("#wave1AngDelta").css("width", textDimWidth);

          $("#wave2Zoom").css("width", dimWidth);
          $("#wave2Ampl").css("width", textDimWidth);
          $("#wave2AngOff").css("width", textDimWidth);
          $("#wave2AngDelta").css("width", textDimWidth);

          $("#modulationZoom").css("width", dimWidth);

          $("#wave1").css("height", dimHeight);
          $("#wave2").css("height", dimHeight);
          $("#modulation").css("height", dimHeight);
        }

        $(document).ready(function(){
          resize()
          sineWave1()
          sineWave2()
          $(window).resize(function() {
              resize()
              sineWave1()
              sineWave2()
          })
        })

        function sineWave(imgId, amplitude, angularMultiplier, angularOffset, angularStep) {
          const dimWidth= Math.floor($(window).width() - 10)
          const dimHeight= Math.floor($(window).height() / 2)
          $("#"+imgId).attr("src","/img/sine.png?amplitude="+amplitude
                +"&angularMultiplier="+angularMultiplier
                +"&angularOffset="+angularOffset
                +"&angularStep="+angularStep
                +"&width="+dimWidth
                +"&height="+dimHeight)
        }

        function modulation() {
            const dimWidth= Math.floor($(window).width() - 10)
            const dimHeight= Math.floor($(window).height() / 2)
            $("#modulation").attr("src", "/img/modulation.png?amplitude1="+$("#wave1Ampl").val()
                    +"&angularMultiplier1="+$("#wave1AngDelta").val()
                    +"&angularOffset1="+$("#wave1AngOff").val()
                    +"&amplitude2="+$("#wave2Ampl").val()
                    +"&angularMultiplier2="+$("#wave2AngDelta").val()
                    +"&angularOffset2="+$("#wave2AngOff").val()
                    +"&angularStep="+$("#modulationZoom").val()
                    +"&type="+"[[${type}]]"
                    +"&width="+dimWidth
                    +"&height="+dimHeight)
        }

        function sineWave1() {
            sineWave(
                "wave1",
                $("#wave1Ampl").val(),
                $("#wave1AngDelta").val(),
                $("#wave1AngOff").val(),
                $("#wave1Zoom").val(),
            )

            modulation()
        }

        function sineWave2() {
            sineWave(
                "wave2",
                $("#wave2Ampl").val(),
                $("#wave2AngDelta").val(),
                $("#wave2AngOff").val(),
                $("#wave2Zoom").val(),
            )

            modulation()
        }
    </script>
    <style>
        .btn {
            text-align: center;
            vertical-align: center;
            font-size: 100px;
        }
    </style>
</head>
<body>
    <div>
        <h2 id="headingOne">
            Sine Wave 1 Details
        </h2>

        <div id="sineWave1" >
            <div>
                <table border="0">
                    <tr>
                        <td colspan="6" style="padding:0; margin:0; white-space: normal;">
                            <img id="wave1" src="/img/blank.png"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="6" style="padding:0; margin:0; white-space: normal;">
                            <label for="wave1Zoom" class="form-label">Zoom In/Out</label>
                            <input onchange="sineWave1()" type="range" class="form-range" min="0.0001" max="1" step="0.0001" value="0.1" id="wave1Zoom">
                        </td>
                    </tr>
                    <tr>
                        <td width="11%" style="text-align: right; padding:0; margin:0; white-space: normal;">
                            <label for="wave1Ampl">
                                Amplitude :
                            </label>
                        </td>
                        <td width="22%" style="text-align: left; padding:0; margin:0; white-space: normal;">
                            <input onchange="sineWave1()" type="number" step="0.0001" value="300" id="wave1Ampl" width="100%">
                        </td>
                        <td width="11%" style="text-align: right; padding:0; margin:0; white-space: normal;">
                            <label for="wave1AngOff">
                                Angular Phase Shift :
                            </label>
                        </td>
                        <td width="22%" style="text-align: left; padding:0; margin:0; white-space: normal;">
                            <input onchange="sineWave1()" type="number" step="0.0001" value="0.01" id="wave1AngOff" width="100%">
                        </td>
                        <td width="11%" style="text-align: right; padding:0; margin:0; white-space: normal;">
                            <label for="wave1AngDelta">
                                Frequency :
                            </label>
                        </td>
                        <td width="22%" style="text-align: left; padding:0; margin:0; white-space: normal;">
                            <input onchange="sineWave1()" type="number" step="0.0001" value="0.5" id="wave1AngDelta" width="100%">
                        </td>
                    </tr>
                </table>

            </div>
        </div>
    </div>
    <hr/>
    <div>
        <h2 role="tab" id="headingTwo">
            Sine Wave 2 Details
        </h2>
        <div id="sineWave2" >
            <div>
                <table border="0" style="b">
                    <tr>
                        <td colspan="6" style="padding:0; margin:0; white-space: normal;">
                            <img id="wave2" src="/img/blank.png"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="6" style="padding:0; margin:0; white-space: normal;">
                            <label for="wave2Zoom" class="form-label">Zoom In/Out</label>
                            <input onchange="sineWave2()" type="range" class="form-range" min="0.0001" max="1" step="0.0001" value="0.1" id="wave2Zoom">
                        </td>
                    </tr>
                    <tr>
                        <td width="11%" style="text-align: right; padding:0; margin:0; white-space: normal;">
                            <label for="wave2Ampl">
                                Amplitude :
                            </label>
                        </td>
                        <td width="22%" style="text-align: left; padding:0; margin:0; white-space: normal;">
                            <input onchange="sineWave2()" type="number" step="0.0001" value="300" id="wave2Ampl" width="100%">
                        </td>
                        <td width="11%" style="text-align: right; padding:0; margin:0; white-space: normal;">
                            <label for="wave1AngOff">
                                Angular Phase Shift :
                            </label>
                        </td>
                        <td width="22%" style="text-align: left; padding:0; margin:0; white-space: normal;">
                            <input onchange="sineWave2()" type="number" step="0.0001" value="0.01" id="wave2AngOff" width="100%">
                        </td>
                        <td width="11%" style="text-align: right; padding:0; margin:0; white-space: normal;">
                            <label for="wave2AngDelta">
                                Frequency :
                            </label>
                        </td>
                        <td width="22%" style="text-align: left; padding:0; margin:0; white-space: normal;">
                            <input onchange="sineWave2()" type="number" step="0.0001" value="0.05" id="wave2AngDelta" width="100%">
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <hr/>
    <div>
        <h2 role="tab" id="headingThree">
            [[${name}]] Modulation Result
        </h2>
        <div id="modulationWave" >
            <div>
                <table border="0">
                    <tr>
                        <td colspan="6" style="padding:0; margin:0; white-space: normal;">
                            <img id="modulation" src="/img/blank.png"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="6" style="padding:0; margin:0; white-space: normal;">
                            <label for="modulationZoom" class="form-label">Zoom In/Out</label>
                            <input onchange="modulation()" type="range" class="form-range" min="0.0001" max="1" step="0.0001" value="0.1" id="modulationZoom">
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>